<!DOCTYPE html>
<html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>

<h1>HELLLPPPPP</h1>

<body>
  <div id="map"></div>
  <script>
    var map;
    var marker;
    var pos = { lat: 32.086397, lng: 34.788485 }
    let socket = io.connect('http://18.223.179.147:3000');
    socket.on('news', function (data) {
      console.log(data);
      socket.emit('my other event', { my: 'data' });
    });

    socket.on('position', function (data) {
      console.log(data);
      var latlng = new google.maps.LatLng(data.lat, data.lng)//Object.values(data));
      marker.setPosition(latlng);

    });

    socket.on('data', function (data) {
      console.log(data)
     alert('dattt in console');

    });

    function initMap() {

      map = new google.maps.Map(document.getElementById('map'), {
        center: { lat: 32.086397, lng: 34.788485 },
        zoom: 17
      });

      marker = new google.maps.Marker({
        position: pos,
        map: map,
        title: 'Hello World!'
      });
    }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDm3MIEQgeB21x6llnIX-76fvpxC3eqw0Q&callback=initMap" async
    defer></script>
</body>

<style>
  /* Always set the map height explicitly to define the size of the div
   * element that contains the map. */

  #map {
    height: 100%;
  }

  /* Optional: Makes the sample page fill the window. */

  html,
  body {
    height: 100%;
    margin: 0;
    padding: 0;
  }
</style>

</html>